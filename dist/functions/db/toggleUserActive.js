"use strict";var __awaiter=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,s){function n(e){try{a(i.next(e))}catch(e){s(e)}}function c(e){try{a(i.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,c)}a((i=i.apply(e,t||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:!0}),exports.toggleUserActive=void 0;const postgres_1=require("../../db/postgres"),toggleUserActive=(e,t)=>__awaiter(void 0,void 0,void 0,(function*(){var r;try{const i=String(null===(r=e.message)||void 0===r?void 0:r.from.id),o=yield postgres_1.prisma.user.findUnique({where:{id:i},select:{isActive:!0}});return(null==o?void 0:o.isActive)===t?o:yield postgres_1.prisma.user.update({where:{id:i},data:{isActive:t}})}catch(t){return e.logger.error(t,"Error toggling user active status"),null}}));exports.toggleUserActive=toggleUserActive;