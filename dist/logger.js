"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.logger=void 0;const fs_1=__importDefault(require("fs")),path_1=__importDefault(require("path")),pino_1=require("pino"),os_1=__importDefault(require("os")),isProd="production"===process.env.NODE_ENV,logDir=path_1.default.resolve(__dirname,"../logs");fs_1.default.existsSync(logDir)||fs_1.default.mkdirSync(logDir,{recursive:!0});const logFilePath=path_1.default.join(logDir,"bot.log"),errorLogFilePath=path_1.default.join(logDir,"error.log"),debugLogFilePath=path_1.default.join(logDir,"debug.log");exports.logger=(0,pino_1.pino)({level:isProd?"info":"debug",timestamp:pino_1.pino.stdTimeFunctions.isoTime,transport:{targets:[...isProd?[]:[{target:"pino-pretty",level:"debug",options:{colorize:!0,translateTime:"HH:MM:ss Z",ignore:"pid,hostname"}}],{target:"pino/file",level:"info",options:{destination:logFilePath,mkdir:!0}},{target:"pino/file",level:"error",options:{destination:errorLogFilePath,mkdir:!0}},{target:"pino/file",level:"debug",options:{destination:debugLogFilePath,mkdir:!0}}]},base:{env:process.env.NODE_ENV,version:process.env.npm_package_version,hostname:os_1.default.hostname()}});