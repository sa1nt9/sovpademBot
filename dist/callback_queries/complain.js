"use strict";var __awaiter=this&&this.__awaiter||function(e,a,o,r){return new(o||(o=Promise))((function(t,i){function n(e){try{c(r.next(e))}catch(e){i(e)}}function l(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var a;e.done?t(e.value):(a=e.value,a instanceof o?a:new o((function(e){e(a)}))).then(n,l)}c((r=r.apply(e,a||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:!0}),exports.complainCallbackQuery=void 0;const keyboards_1=require("../constants/keyboards"),logger_1=require("../logger"),complainCallbackQuery=e=>__awaiter(void 0,void 0,void 0,(function*(){var a;logger_1.logger.info({userId:null===(a=e.from)||void 0===a?void 0:a.id},"User initiated complaint");const o=e.callbackQuery.data;yield e.answerCallbackQuery({text:"ðŸ‘‡",show_alert:!1,cache_time:86400});const r=o.split(":")[1];e.session.additionalFormInfo.reportedUserId=r,e.session.step="complain",yield e.answerCallbackQuery(),yield e.reply(e.t("complain_text"),{reply_markup:(0,keyboards_1.complainKeyboard)()})}));exports.complainCallbackQuery=complainCallbackQuery;