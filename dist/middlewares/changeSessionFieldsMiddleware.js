"use strict";var __awaiter=this&&this.__awaiter||function(e,s,i,o){return new(i||(i=Promise))((function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var s;e.done?n(e.value):(s=e.value,s instanceof i?s:new i((function(e){e(s)}))).then(r,a)}l((o=o.apply(e,s||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:!0}),exports.changeSessionFieldsMiddleware=void 0;const restoreProfileValues_1=require("../functions/restoreProfileValues"),changeSessionFieldsMiddleware=(e,s)=>__awaiter(void 0,void 0,void 0,(function*(){e.inlineQuery||("questions"!==e.session.step&&"create_profile_type"!==e.session.step&&"create_profile_subtype"!==e.session.step&&(e.session.isEditingProfile&&(e.session.isEditingProfile=!1,yield(0,restoreProfileValues_1.restoreProfileValues)(e)),e.session.isCreatingProfile&&(e.session.isCreatingProfile=!1,yield(0,restoreProfileValues_1.restoreProfileValues)(e))),"questions"!==e.session.step&&e.session.additionalFormInfo.canGoBack&&(e.session.additionalFormInfo.canGoBack=!1),"search_people_with_likes"!==e.session.step&&"somebodys_liked_you"!==e.session.step&&"complain"!==e.session.step&&"continue_see_likes_forms"!==e.session.step&&"complain_text"!==e.session.step&&e.session.additionalFormInfo.searchingLikes&&(e.session.additionalFormInfo.searchingLikes=!1)),yield s()}));exports.changeSessionFieldsMiddleware=changeSessionFieldsMiddleware;