"use strict";var __awaiter=this&&this.__awaiter||function(e,r,o,i){return new(o||(o=Promise))((function(n,t){function s(e){try{d(i.next(e))}catch(e){t(e)}}function a(e){try{d(i.throw(e))}catch(e){t(e)}}function d(e){var r;e.done?n(e.value):(r=e.value,r instanceof o?r:new o((function(e){e(r)}))).then(s,a)}d((i=i.apply(e,r||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:!0}),exports.formDisabledStep=formDisabledStep;const keyboards_1=require("../constants/keyboards"),sendForm_1=require("../functions/sendForm");function formDisabledStep(e){return __awaiter(this,void 0,void 0,(function*(){const r=e.message.text,o=String(e.from.id);e.logger.info({userId:o,step:"form_disabled"},"User accessing disabled form screen"),r===e.t("create_new_profile")?(e.logger.info({userId:o},"User choosing to create new profile after form disabled"),e.session.step="create_profile_type",e.session.isCreatingProfile=!0,yield e.reply(e.t("profile_type_title"),{reply_markup:(0,keyboards_1.createProfileTypeKeyboard)(e.t)})):r===e.t("main_menu")?(e.logger.info({userId:o},"User returning to main menu from disabled form"),e.session.step="profile",yield(0,sendForm_1.sendForm)(e),yield e.reply(e.t("profile_menu"),{reply_markup:(0,keyboards_1.profileKeyboard)()})):(e.logger.warn({userId:o,invalidOption:r},"User provided invalid response on disabled form screen"),yield e.reply(e.t("no_such_answer"),{reply_markup:(0,keyboards_1.formDisabledKeyboard)(e.t)}))}))}