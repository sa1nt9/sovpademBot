"use strict";var __awaiter=this&&this.__awaiter||function(e,o,r,t){return new(r||(r=Promise))((function(s,i){function n(e){try{l(t.next(e))}catch(e){i(e)}}function a(e){try{l(t.throw(e))}catch(e){i(e)}}function l(e){var o;e.done?s(e.value):(o=e.value,o instanceof r?o:new r((function(e){e(o)}))).then(n,a)}l((t=t.apply(e,o||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:!0}),exports.sportLevelQuestion=void 0;const keyboards_1=require("../../constants/keyboards"),checkIsKeyboardOption_1=require("../../functions/checkIsKeyboardOption"),sportLevelQuestion=e=>__awaiter(void 0,void 0,void 0,(function*(){var o;const r=e.message.text,t=String(e.from.id);e.logger.info({userId:t,question:"sport_level",input:r,profileType:null===(o=e.session.activeProfile)||void 0===o?void 0:o.profileType},"User answering sport level question"),(0,checkIsKeyboardOption_1.checkIsKeyboardOption)((0,keyboards_1.selectSportLevelkeyboard)(e.t),r)?(e.logger.info({userId:t,sportLevel:r},"User sport level validated and saved"),e.session.question="years",e.session.activeProfile.level=r,yield e.reply(e.t("years_question"),{reply_markup:(0,keyboards_1.ageKeyboard)(e.session)})):(e.logger.warn({userId:t,invalidOption:r},"User provided invalid sport level"),yield e.reply(e.t("no_such_answer"),{reply_markup:(0,keyboards_1.selectSportLevelkeyboard)(e.t)}))}));exports.sportLevelQuestion=sportLevelQuestion;